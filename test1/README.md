# 实验1： SQL语句的执行计划分析与优化指导

## 王炜清 软件18-3 学号：201810414321

github用户名：997Yi

### 教材查询语句

- 查询1

> 代码
>
> > ![image-20210311112706243](./教材查询1代码.png)
>
> 运行结果
>
> > ![image-20210311114426165](./教材查询1结果.png)

- 查询2
> 代码
>
> > ![image-20210311112731853](./教材查询2代码.png)
>
> 运行结果
>
> > ![image-20210311115036859](./教材查询2结果.png)

- 分析

> 查询1执行计划
>
> > <img src="./教材查询1执行计划.png" alt="image-20210311120840408" style="zoom: 80%;" />
>
> 查询2执行计划
>
> > <img src="./教材查询2执行计划.png" alt="image-20210311120914917" style="zoom:80%;" />
>
> 查询1循环影响行数20行，CPU占用2%
>
> 查询2 hash join影响106行，CPU占用5%
>
> 从影响行数和CPU占用来说，查询1的方法更好

### 设计查询语句

- 查询

> 代码
>
> > ![image-20210311142251899](./设计查询代码.png)
>
> 运行结果
>
> > ![image-20210311142334294](./设计查询结果.png)

- 分析

> 对department优先查询，先筛选出department中符合条件的id和name，再进行连表查询。